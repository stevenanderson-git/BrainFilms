{% extends "layout.html" %}
    {% block content %}
    <form class = "form-layout advanced-search" method = "post">
        <div class = "inner-form">
            <div class = "form-row">
                <div class = "form-row-label" for="search-term">
                    Search Term
                </div>
                <div class = "form-row-content">
                    <input type="text" name = "search-term" id = "search-term" placeholder = "Enter term to narrow results">
                </div>
            </div>
            <div class = "form-row">
                <div class = "form-row-label" for="categories">
                    Primary Category
                </div>
                <div class = "form-row-content">
                    <div class = "selector-categories-wraper">
                        <select class ="adv-form-selector categories" name = "categories" id = "categories" size = "6" onchange="ddlselect();">
                            <!--Blank option to show all-->
                            <option value = ""></option>
                            {% for category in categories %}
                            <option value = "{{category.name}}">{{category.name}}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
            </div>
            <div class = "form-row">
                <div class = "form-row-label" for="subcategories">
                    Subcategory
                </div>
                <div class = "form-row-content">
                    <div class = "selector-subcategories-wraper">
                        <select multiple = "multiple-sub" class ="adv-form-selector subcategories" name = "subcategories" id = "subcategories" size = "6">
                            {% for category in subcategories %}
                            <option name = "{{category.sub_name}}">{{category.sub_name}}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
            </div>

            <div class = "form-row selection">
                <div class = "form-row-label" for="current-selection">
                    Selected
                </div>
                <div class = "form-row-content">
                    <div class = "selection-wrapper">
                        <div class = "selected-category">
                            <input type = "text" id = "current-selected-category">
                        </div>
                        <div class = "selected-subcategories">

                        </div>
                    </div>
                </div>
            </div>
            
            <div class = "form-row advanced-search-submit-button">
                <div class = "form-row-label"></div>
                <button type = "submit" class = "button-adv-subm">
                    Search with filters
                </button>
            </div>
        </div>
    </form>



    <script>
        function ddlselect(){
            var d=document.getElementById("categories");
            var displaytext = d.options[d.selectedIndex].text
            document.getElementById("current-selected-category").value = displaytext;
        }
    </script>
    {% endblock content %}
